var Omega=function(e,t){var n=e.Omega;if(!n||!n.loaded){var r,o,a,i,c,u,l,f,s,d,m,g,v,h,p={onJsError:function(){}},b="0.2.5",y=!1,k=[],E=[],T=[],S="OmegaSDK://",w="didi",O=/omega/,C=/^\s*|\s*$/g,N=[],_="OMGH5PageView",M="OMGH5CustomTiming",j="OMGH5Click",I="OMGH5Error",L="omgh5sid",P="omgscfg",D="omgh5smpl",J="omgtra",H="omgopd",x=1e3,A=!0,F={},B=/[?&]omg_no_track=1(?:\&|#|$)/.test(location.search),G="//omgup.xiaojukeji.com/api/web/stat",$="//omgup.xiaojukeji.com/api/webinfo",V={},Y={},K=(navigator.userAgent||navigator.vendor||e.opera).toLowerCase(),R=navigator.cookieEnabled?1:0,U=!1,W=!1,z=function(e){return Object.prototype.toString.call(e).match(/\[object\s+(\w+)\]/)[1]},X=function(e,t){return z(e)===t},q=/micromessenger/.test(K),Q=/alipayclient/.test(K),Z=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!0)}:e.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0}(),ee=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!0)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0}(),te=function(){var n={},r=function(){var e=0;try{e=t.body.offsetHeight,e||(e=t.documentElement.offsetHeight)}catch(n){}return e},o=r();ee(e,"message",function(r){try{r.data.replace(/^omgh5\:rnhover\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];if(i){var l=i.style.backgroundColor;n[r]=l,i.style.backgroundColor="#f93",setTimeout(function(){i.style.backgroundColor=l},3e3)}}),r.data.replace(/^omgh5\:rnout\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];i&&(i.style.backgroundColor=n[r])}),r.data.replace(/^omgh5\:go(\w+)$/,function(t,n){e.history[n]()})}catch(r){}}),setInterval(function(){var e=r();e!=o&&(o=e,top.window.postMessage("omgh5:pageheight:"+o,"*"))},200)},ne=function(){try{return top.window===window}catch(e){return!1}}();ne||(ee(e,"message",function(n){X(n.data,"String")&&(n.data.replace(/^omgh5\:showdebug$/,function(){U=!0;var e,n,r;ee(t,"mouseover",function(t){var o=t.target,a=Je(o);e=o.style.backgroundColor,o.style.backgroundColor="#f93",n=o.title,o.title=a,r=setTimeout(function(){top.window.postMessage("omgh5:rncopy:"+a,"*")},1e3)}),ee(t,"mouseout",function(t){var o=t.target;o.style.backgroundColor=e,o.title=n,clearTimeout(r)}),W||te()}),n.data.replace(/^omgh5\:heatmap$/,function(){ee(e,"message",function(e){try{e.data.replace(/^omgh5\:rnheat\:(.+)$/,function(e,n){var r=n.split("->"),o=r[0],a=t.body;"body"!==o&&(a=t.getElementById(o)),a||(a=t.getElementsByName(o)[0]);for(var i=1,c=r.length;c>i;i++)a=a.children[r[i]];a&&top.window.postMessage("omgh5:rninfo:"+JSON.stringify(Ge(a)),"*")})}catch(e){}}),W||te()}))}),top.window.postMessage("omgh5:iniframe","*"));var re=function(e){for(var n=t.cookie?t.cookie.split("; "):[],r=0,o=n.length;o>r;r++){var a=n[r].split("=");if(a[0]===e)return a[1]}},oe=function(e,n,r){t.cookie=e+"="+n+(r?"; expires="+r:"")+"; path=/"},ae=function(e){var t=new RegExp("[?&]"+e+"=([^&$]+)");return t.test(location.search)||t.test(location.hash.slice(1))?RegExp.$1:void 0},ie=function(e){var t=re(P);try{if(t)return t=JSON.parse(t),e?t[e]:t}catch(n){}},ce=function(e,t){var n=ie();if(n||(n={}),X(e,"String")){var r={};r[e]=t,e=r}for(var o in e)n[o]=e[o];try{oe(P,JSON.stringify(n)),ye(n,ke)}catch(a){}},ue=function(){return(Math.random()+"").substr(2,12)+"-"+(new Date).getTime()},le=function(e){a=e+""},fe=function(e){u=e+""},se=function(e){i=e+"",Ve("username-received")},de=function(e){c=e+"",Ve("telephone-received")},me=function(e){l=e},ge=function(e){f=e+""},ve=function(e,t){e&&t&&!isNaN(e)&&!isNaN(t)&&(d=t,s=e)},he=ue();v=re(H);var pe=function(){var e=re(L);return e||oe(L,e=he),e}(),be=function(){return ae(pe)}(),ye=function(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(n){case"productName":a=e[n]+"";break;case"userName":i=e[n]+"";break;case"telephone":c=e[n]+"";break;case"pageTitle":u=e[n]+"";break;case"cityId":l=e[n];break;case"channel":f=e[n]+"";break;case"appVersion":m=e[n]+"";break;case"openid":v=e[n]+"";case"timeout":x=e[n];break;default:t[n]=e[n]}return t},ke=function(){var e={autoClick:!0,autoTouch:!1,autoError:!0,noTrack:!1,autoSendPageView:!0},t=ie();return t&&ye(t,e),n&&n.constructor===Object&&(ye(n,e),n=null),e}(),Ee=function(){return"undefined"!=typeof OmegaSDK},Te=function(){return K.indexOf(w)>=0&&O.test(K)}(),Se=function(e){return N.push(e),function(){for(var t=0,n=N.length;n>t;t++)if(N[t]===e)return N.splice(t,1)}},we=function(e,n){var r=n["class"];if(r){var o=e,a=[];if(r.constructor===Array)for(var i=0,c=r.length;c>i;i++)a.push(" "+r[i]+" ");else a.push(" "+r+" ");for(var c=a.length;o&&o!==t.body&&o!==t.documentElement;){for(var u=" "+o.className+" ",i=0;c>i;i++)if(u.indexOf(a[i])>-1)return o;o=o.parentNode}}var l=n.attr;if(l)for(var o=e;o&&o!==t.body&&o!==t.documentElement;)if(o.hasAttribute(l)){var f=o.getAttribute(l);if(!f)return o;try{var s=JSON.parse(f);return s.target=o,s}catch(d){return o}}else o=o.parentNode},Oe=function(t){o&&(he=ue());var n={nt:1};if(t=t||{},e.performance&&e.performance.timing){var r=Ne();for(var a in r)t[a]=r[a]}Ye($e([_,t]),n)},Ce=function(){try{for(var e=performance.getEntries(),t=0,n=e.length;n>t;t++){var r=e[t];if("script"==r.initiatorType&&r.name.indexOf("/omega.")>-1)return r}}catch(o){}},Ne=function(){var t={},n=e.performance.memory;if(n&&(t.m_used=n.usedJSHeapSize,t.m_total=n.totalJSHeapSize,t.m_limit=n.jsHeapSizeLimit),o)return t;var r=e.performance.timing;if(t.t_fb=r.responseStart-r.navigationStart,t.t_rq=r.responseEnd-r.requestStart,t.t_tcp=r.connectEnd-r.connectStart,t.t_dns=r.domainLookupEnd-r.domainLookupStart,t.t_pgrd=r.loadEventEnd-r.navigationStart,t.t_dmrd=r.domContentLoadedEventEnd-r.navigationStart,t.t_psdm=r.domComplete-r.domInteractive,t.t_di=r.domInteractive-r.domLoading,t.t_dcl=r.domContentLoadedEventEnd-r.domLoading,t.t_dc=r.domComplete-r.domLoading,t.t_ld=r.loadEventEnd-r.loadEventStart,e.chrome&&e.chrome.loadTimes)try{var a=e.chrome.loadTimes();a&&(t.t_fp=1e3*a.firstPaintTime-e.performance.timing.navigationStart)}catch(i){}var c=Ce();!o&&c&&(t.t_omgld=Math.round(c.duration));for(var u in Y){var l=t.t_custom;l||(l=t.t_custom={}),l[u]=Y[u]}try{l&&(t.t_custom=JSON.stringify(l))}catch(i){}return t},_e=1e4,Me=function(){E.length&&A&&setTimeout(function(){Pe.apply(null,E.shift()),Me()},50)},je=function(){T.length&&setTimeout(function(){var e=T.shift();Pe.apply(null,e),je()},50)},Ie=function(e,n,r,o){try{var a=t.createElement("script");t.documentElement.appendChild(a);var i=(n+"_"+(""+Math.random()).substr(2,6)).slice(6);a.onload=function(){r||o(),t.documentElement.removeChild(a),Me()},a.onerror=function(){var t=+(a.getAttribute("count")||0);a.setAttribute("count",++t),2>t?setTimeout(function(){a.src=G+e+"&cbk=Omega._cbk"+i+"&_"+t+"=1"},100):(A=!1,setTimeout(function(){A=!0},_e))},p["_cbk"+i]=function(){return function(e){Le(e),delete p["_cbk"+i]}}(i),a.src=G+e+"&cbk=Omega._cbk"+i}catch(c){}},Le=function(e){for(var t in e)F[t]=e[t]},Pe=function(e,t,n,r,a){if(X(F.eventid,"Object")){var i=F.eventid,c=i[e];if(null!=c)if(1===c)delete i[e];else{if(0===c)return;if(Math.random()>=c)return}}var u,l,f=r.ts;if(e!==_||o||(o=!0),!A)return void E.push([e,t,n,r,a]);if((q||Q)&&!v)return void T.push([e,t,n,r,a]);var s=re(J);if(!s){var d=new Date;d.setFullYear(d.getFullYear()+30);var m=We();m&&m.oid?oe(J,m.oid,d.toGMTString()):setTimeout(function(){ze(function(e){e&&e.oid&&oe(J,e.oid,d.toGMTString())})},2e3)}v&&(r.oid=v),a&&setTimeout(function(){u||(l=!0,a(e,t,n,r,l))},x);var g="?e="+e;for(var h in r)g+="&"+h+"="+encodeURIComponent(r[h]);if(g+="&attrs="+encodeURIComponent(JSON.stringify(n)),U)try{top.window.postMessage("omgh5:log:"+g,"*")}catch(p){}else Ie(g,f,l,function(){u=!0,a&&a(e,t,n,r)})},De=function(e){for(var t=e.parentNode.children,n=0,r=t.length;r>n;n++)if(t[n]===e)return n},Je=function(e){var t,n=[],r=e;try{for(;"BODY"!==r.nodeName;){var o=r.getAttribute("id")||r.getAttribute("name");if(o){n.unshift(o),t=1;break}n.unshift(De(r)),r=r.parentNode}t||n.unshift("body")}catch(r){n.length=0}return n.length?n.join("->"):""},He=function(t,n,r,o){var a,i={};n=n||e.event;var c=n.target||n.srcElement;if("INPUT"!==c.tagName||"password"!==c.type){if(r&&X(r,"Object")){var u=we(c,r);if(u){if(X(u,"Object")){if(t=u.e||t,a=u.l,u.attrs&&X(u.attrs,"Object"))for(var l in u.attrs)i[l]=u.attrs[l];c=u.target}}else if(!o)return}else if(!o)return;Ve(t,a||c.tagName,i,c,n,!0)}},xe=function(e){for(var t=arguments.length,n={eventId:e},r=1;t>r;r++){var o=arguments[r],a=z(o);switch(a){case"String":n.eventLabel=o;break;case"Object":n.attrs=o;break;case"Function":n.callback=o;break;case"Boolean":n.auto=o;break;case"MouseEvent":case"TouchEvent":n.event=o;break;case"Undefined":case"Null":break;default:n.target=o}}return n},Ae=function(e,n){var r={v:location.href,r:t.referrer||"",c:R,ts:(new Date).getTime(),fp:1,p:he,jv:b,pt:u||t.title||""};return R&&(r.s=pe),n&&(r.l=n),a&&(r.pn=a),i&&(r.un=i),c&&(r.tel=c),l&&(r.ct=l),f&&(r.ch=f),m&&(r.av=m),be&&(r.rs=be),d&&(r.lat=d),s&&(r.lng=s),r},Fe=function(e){return e.replace(C,"")},Be=function(e){try{var t=e.nodeName;if("INPUT"===t&&"button"===e.type)return e.value;if("SELECT"===t||"INPUT"===t||"TEXTAREA"===t){var n=[],r=e.previousSibling;r&&3==r.nodeType&&n.push(Fe(r.nodeValue)),e.placeholder&&n.push("placeholder="+e.placeholder),e.id&&n.push("id="+e.id),e.name&&n.push("name="+e.name),e.className&&n.push("class="+e.className);var o=e.nextSibling;return o&&3==o.nodeType&&n.push(Fe(o.nodeValue)),n.join(" ")}for(var a=e.childNodes,n=[],i=0,c=a.length;c>i;i++){var u=a[i];3==u.nodeType&&n.push(Fe(u.nodeValue))}return n.join(" ")}catch(l){}},Ge=function(e,n,r){n=n||{},e.id&&(n.id=e.id),e.className&&(n["class"]=e.className),e.href&&(n.href=e.href),e.name&&(n.name=e.name);var o=Be(e);if(o&&(o.length>50&&(o=o.substr(0,50)+"..."),n.text=o),e.getBoundingClientRect){var a=e.getBoundingClientRect();n.ex=Math.round(a.left),n.ey=Math.round(a.top),a.width&&(n.ew=Math.round(a.width)),a.height&&(n.eh=Math.round(a.height))}if(!n.eh&&e.offsetHeight&&(n.eh=e.offsetHeight),!n.ew&&e.offsetWidth&&(n.ew=e.offsetWidth),r){var i=t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0,c=t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,u=r.pageX||r.clientX+i,l=r.pageY||r.clientY+c;n.x=u,n.y=l}var a=Je(e);return a&&(n.rn=a),n.h=t.documentElement.offsetHeight||t.body&&t.body.offsetHeight||0,n.w=t.documentElement.offsetWidth||t.body&&t.body.offsetWidth||0,n},$e=function(e){e=xe.apply(null,e);var t=e.eventId,n=e.eventLabel||"",r=e.attrs||{},o=e.target,a=e.event,i=e.callback;for(var c in ke)r.hasOwnProperty(c)||(r[c]=ke[c]);if(r=Ue(t,r,o),o&&(t===j||e.auto)&&(r=Ge(o,r,a),g))for(var c in g)r[c]=g[c]();return{eventId:t,callback:i,eventLabel:n,attrs:r,sys:Ae(t,n,o)}},Ve=function(){try{var e=$e(arguments);Ye(e)}catch(t){}},Ye=function(t,n){if(!B){if(!y)return void k.push(function(){Ye(t,n)});var r=t.eventId,o=t.eventLabel,a=t.callback,i=t.attrs,c=t.sys,u=JSON.stringify(n||{}),l=JSON.stringify(i),f=JSON.stringify(c);if("OMGH5JsError"===r&&p.onJsError(o,c,i),Ee())if(OmegaSDK.trackEventEx)try{OmegaSDK.trackEventEx(r,o,l,f,u),a&&a(r,o,i,c)}catch(s){Pe(r,o,i,c,a)}else if(OmegaSDK.trackEvent)try{OmegaSDK.trackEvent(r,o,l,f),a&&a(r,o,i,c)}catch(s){try{OmegaSDK.trackEvent(r,o,l),a&&a(r,o,i,c)}catch(s){Pe(r,o,i,c,a)}}else Pe(r,o,i,c,a);else if(Te){var d=S+"trackEvent?e="+r;d+="&attrs="+l,d+="&sys="+f,n&&(d+="&ex="+u),e.prompt(d),a&&a(r,o,i,c)}else Pe(r,o,i,c,a)}},Ke=function(e,t,n,r,o){var a={line:n,url:t};r&&(a.col=r),null!=h&&(a.state=h),o&&o.stack&&(e=o.stack),Ve("OMGH5JsError",e,a)},Re=function(){if(!V.jserror){V.jserror=1;var t=e.onerror;e.onerror=function(n,r,o,a,i){Ke(n,r,o,a,i),"function"==typeof t&&t.apply(e,arguments)}}},Ue=function(e,t,n){t=t||{};for(var r=0,o=N.length;o>r;r++){var a=N[r].call(n,e,t,n);if(a&&X(a,"Object"))for(var i in a)t[i]=a[i]}return ye(t,{})},We=function(){if(Ee())try{return JSON.parse(OmegaSDK.getInfo())}catch(e){}},ze=function(e,n){try{var r=t.createElement("script");t.documentElement.appendChild(r);var o=Ze()+"_"+(""+Math.random()).substr(2,9);r.onload=function(){return function(){t.documentElement.removeChild(r)}}(o),e&&X(e,"Function")&&(p["__callback"+o]=function(){return function(t){e(JSON.parse(t)),delete p["__callback"+o]}}(o),r.src=$+"?callback=Omega.__callback"+o),r.onerror=function(e){return function(){n&&X(n,"Function")&&n(),t.documentElement.removeChild(r),delete p["__callback"+e]}}(o)}catch(a){}},Xe=function(e,t){var n;if(e&&X(e,"Function")){if(r)return void e(r);ze(function(t){e(r=t.clientid)},t)}else Promise&&Promise.all&&(n=new Promise(function(e,t){r?e(r):ze(function(t){e(r=t.clientid)},t)}));return n},qe=function(e,n,r,o){var a=V[e];return a&&Z(t,e,a),V[e]=function(e){He(n,e,r,o)},ee(t,e,V[e]),function(){Qe(e)}},Qe=function(e){var n=V[e];n&&(Z(t,e,n),delete V[e])},Ze=function(){if(e.performance&&e.performance.now)return function(){return parseInt(e.performance.now())};var t=Date.now();return e.performance&&e.performance.timing&&(t=e.performance.timing.navigationStart),function(){return Date.now()-t}}(),et=function(t){e.performance&&performance.timing&&X(t,"String")&&(Y[""+t]=Ze())},tt=function(e){return qe("click",j,e,1)},nt=function(e){return qe("click",j,e)},rt=function(e){var t=re(D);if(!t){var n=new Date;t=n.getTime(),n.setFullYear(n.getFullYear()+30),oe(D,t,n.toGMTString())}return t%(1/e)===0},ot=function(e,t,n,r,o){if(e&&"string"==typeof e&&"number"==typeof t){o=o||.1,r=r||{},r.ms=t;var a={nt:1};n&&(r.version=n),rt(o)&&Ye($e([M,e,r]),a)}},at=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();rt(t)&&Ve.apply(null,e)};ke.autoClick&&(X(ke.autoClick,"Object")?tt(ke.autoClick):tt()),ke.autoTouch&&(X(ke.autoTouch,"Object")?tt(ke.autoTouch):tt()),ke.filterClick&&X(ke.filterClick,"Object")&&nt(ke.filterClick),ke.filterTouch&&X(ke.filterTouch,"Object")&&nt(ke.filterTouch),ke.autoError&&Re(),ke.noTrack&&(B=1);var it=ke.autoSendPageView;delete ke.autoClick,delete ke.autoTouch,delete ke.autoError,delete ke.debugMode,delete ke.autoSendPageView,delete ke.filterClick,delete ke.filterTouch,delete ke.noTrack;var ct=function(){for(y=!0;k.length;)setTimeout(k.pop(),10)};return it&&k.push(Oe),"complete"===t.readyState?ct():ee(e,"load",ct),p.trackEvent=Ve,p.getAppSdkInfo=We,p.trackError=function(e,t,n,r){return arguments.length<3?void console.log('至少要包含"name"、"code"和"msg"三个参数'):(r=r||{},r.name=e+"",r.code=t+"",void Ve(I,n+"",r))},p.addTrackHandler=Se,p.enableClickAutoTracker=p.enableTouchAutoTracker=tt,p.enableClickFilterTracker=p.enableTouchFilterTracker=nt,p.disableAutoClick=function(){Qe("click")},p.setProduct=le,p.setUserName=se,p.setTelephone=de,p.setPageTitle=fe,p.setCityId=me,p.setChannel=ge,p.setLocation=ve,p.sendPageView=Oe,p.markTimePoint=et,p.setSessionConfig=ce,p.trackTiming=ot,p.trackEventSample=at,p.sid=function(){return pe},p.getProduct=function(){return a},p.setState=function(e){h=e},p.setOpenId=function(e){v=e;var t=new Date;t.setFullYear(t.getFullYear()+30),oe(H,v,t.toGMTString()),je()},p.getClientId=Xe,p.enableDebugMode=function(){},p.trackPerformance=function(){},p.bindEvent=ee,p.getQuery=ae,p.loaded=!0,p}}(window,document);